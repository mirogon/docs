<!DOCTYPE html>
<html class="fa-events-icons-ready" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>The PBR Guide - Part 1</title><meta name="description" content="Learn everything about the 3D texturing software tools Substance Painter, Designer and B2M, with free video tutorials, courses and documentation."><meta name="keywords" content="3D,texturing,Substance,Painter,Designer,B2M,learn,tutorials,free,documentation"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="og:type" content="website"><meta property="og:title" content="The PBR Guide - Part 1 on Substance Academy"><meta property="og:description" content="## The PBR Guide by Allegorithmic - Part 1

### Light and Matter : The theory of Physically-Based Rendering and Shading

To read this offline, you can download the attachement which is a PDF of the entire book (Part 1 + Part 2)"><meta property="og:image" content="https://cdn.substance3d.com/files/academy/38202b33-c362-4368-bc25-e6ae6af4e4f7"><meta property="og:url" content="https://academy.substance3d.com/courses/the-pbr-guide-part-1"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@Substance3D"><meta name="twitter:creator" content="@Substance3D"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="icon" type="/image/png" href="https://academy.substance3d.com/favicon-16x16.png" sizes="16x16"><link rel="icon" type="/image/png" href="https://academy.substance3d.com/favicon-32x32.png" sizes="32x32"><link rel="apple-touch-icon" sizes="180x180" href="https://academy.substance3d.com/apple-touch-icon.png"><link rel="manifest" href="https://academy.substance3d.com/site.webmanifest"><link rel="preload" href="The%20PBR%20Guide%20-%20Part%201-Dateien/gdg0mkx.css" as="style"><link rel="stylesheet" href="The%20PBR%20Guide%20-%20Part%201-Dateien/gdg0mkx.css"><script type="text/javascript" src="The%20PBR%20Guide%20-%20Part%201-Dateien/0f728918ea"></script><script src="The%20PBR%20Guide%20-%20Part%201-Dateien/nr-spa-1130.js"></script><script async="" src="The%20PBR%20Guide%20-%20Part%201-Dateien/analytics.js"></script><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(n,r,t){function o(e){if(!r[e]){var t=r[e]={exports:{}};n[e][0].call(t.exports,function(t){return o(n[e][1][t]||t)},t,t.exports)}return r[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var e=0;e<t.length;e++)o(t[e]);return o}({1:[function(t,e,n){function r(t){try{s.console&&console.log(t)}catch(t){}}var o,i=t("ee"),a=t(23),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,-1!==o.indexOf("dev")&&(s.dev=!0),-1!==o.indexOf("nr_dev")&&(s.nrDev=!0))}catch(t){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,e){return t}).join(", ")))},{}],2:[function(e,t,n){function i(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function a(t,e){var n=e?null:f.now();s("err",[t,n])}var s=e("handle"),c=e(24),r=e("ee"),f=e("loader"),o=e("gos"),u=window.onerror,d=!1,p="nr@seenError",l=0;f.features.err=!0,e(1),window.onerror=function(t,e,n,r,o){try{l?l-=1:a(o||new i(t,e,n),!0)}catch(t){try{s("ierr",[t,f.now(),!0])}catch(t){}}return"function"==typeof u&&u.apply(this,c(arguments))};try{throw new Error}catch(t){"stack"in t&&(e(13),e(12),"addEventListener"in window&&e(6),f.xhrWrappable&&e(14),d=!0)}r.on("fn-start",function(t,e,n){d&&(l+=1)}),r.on("fn-err",function(t,e,n){d&&!n[p]&&(o(n,p,function(){return!0}),this.thrown=!0,a(n))}),r.on("fn-end",function(){d&&!this.thrown&&0<l&&(l-=1)}),r.on("internal-error",function(t){s("ierr",[t,f.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){N++,T=m.hash,this[f]=v.now()}function o(){N--,m.hash!==T&&i(0,!0);var t=v.now();this.jsTime=~~this.jsTime+t-this[f],this[u]=t}function i(t,e){x.emit("newURL",[""+m,e])}function a(t,e){t.on(e,function(){this[e]=v.now()})}var s="-start",c="-end",f="fn"+s,u="fn"+c,d="cb"+s,p="fetch",l="addEventListener",h=window,m=h.location,v=t("loader");if(h[l]&&v.xhrWrappable){var w=t(10),y=t(11),x=t(8),g=t(6),b=t(13),E=t(7),R=t(14),O=t(9),C=t("ee"),P=C.get("tracer");t(16),v.features.spa=!0;var T,N=0;C.on(f,r),C.on(d,r),C.on(u,o),C.on("cb-end",o),C.buffer([f,u,"xhr-done","xhr-resolved"]),g.buffer([f]),b.buffer(["setTimeout"+c,"clearTimeout"+s,f]),R.buffer([f,"new-xhr","send-xhr"+s]),E.buffer([p+s,p+"-done",p+"-body"+s,p+"-body"+c]),x.buffer(["newURL"]),w.buffer([f]),y.buffer(["propagate",d,"cb-end","executor-err","resolve"+s]),P.buffer([f,"no-"+f]),O.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(R,"send-xhr"+s),a(C,"xhr-resolved"),a(C,"xhr-done"),a(E,p+s),a(E,p+"-done"),a(O,"new-jsonp"),a(O,"jsonp-end"),a(O,"cb-start"),x.on("pushState-end",i),x.on("replaceState-end",i),h[l]("hashchange",i,!0),h[l]("load",i,!0),h[l]("popstate",function(){i(0,1<N)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),s=t(12),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",l="fn-start",h="fn-end",m="bstTimer",v="pushState",w=t("loader");w.features.stn=!0,t(8);var y=NREUM.o.EV;o.on(l,function(t,e){t[0]instanceof y&&(this.bstStart=w.now())}),o.on(h,function(t,e){var n=t[0];n instanceof y&&i("bst",[n,e,this.bstStart,w.now()])}),a.on(l,function(t,e,n){this.bstStart=w.now(),this.bstType=n}),a.on(h,function(t,e){i(m,[e,this.bstStart,w.now(),this.bstType])}),s.on(l,function(){this.bstStart=w.now()}),s.on(h,function(t,e){i(m,[e,this.bstStart,w.now(),"requestAnimationFrame"])}),o.on(v+"-start",function(t){this.time=w.now(),this.startPath=location.pathname+location.hash}),o.on(v+"-end",function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),s=t(26)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=c(n,"nr@wrapped",function(){var t={object:function(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return t?s(t,"fn-",null,t.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var e=r.apply(this,arguments);return o.emit(n+"start",arguments,e),e.then(function(t){return o.emit(n+"end",[null,t],e),t},function(t){throw o.emit(n+"end",[t],e),t})})}var o=t("ee").get("fetch"),i=t(23);e.exports=o;var a=window,s="fetch-",c=s+"body-",f=a.Request,u=a.Response,d=a.fetch,p="prototype";f&&u&&d&&(i(["arrayBuffer","blob","json","text","formData"],function(t,e){r(f[p],e,c),r(u[p],e,c)}),r(a,"fetch",s),o.on(s+"end",function(t,e){if(e){var n=e.headers.get("content-length");null!==n&&(this.rxSize=n),o.emit(s+"done",[null,e],this)}else o.emit(s+"done",[t],this)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(26)(r);e.exports=r;var i=window.history&&window.history.constructor&&window.history.constructor.prototype,a=window.history;i&&i.pushState&&i.replaceState&&(a=i),o.inPlace(a,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){u.emit("jsonp-end",[],f),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){u.emit("jsonp-error",[],f),u.emit("jsonp-end",[],f),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r,o,i,a;if(t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase()&&"function"==typeof t.addEventListener){var s=(i=t.src,(a=i.match(p))?a[1]:null);if(s){var c=(o=(r=s).match(l))&&3<=o.length?{key:o[2],parent:function t(e,n){var r=e.match(h),o=r[1],i=r[3];return i?t(i,n[o]):n[o]}(o[1],window)}:{key:r,parent:window};if("function"==typeof c.parent[c.key]){var f={};d.inPlace(c.parent,[c.key],"cb-",f),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),u.emit("new-jsonp",[t.src],f)}}}}var u=t("ee").get("jsonp"),d=t(26)(u);if(e.exports=u,"addEventListener"in window){var p=/[?&](?:callback|cb)=([^&#]+)/,l=/(.*)\.([^.]+)/,h=/^(\w+)(\.|$)(.*)$/,o=["appendChild","insertBefore","replaceChild"];Node&&Node.prototype&&Node.prototype.appendChild?d.inPlace(Node.prototype,o,"dom-"):(d.inPlace(HTMLElement.prototype,o,"dom-"),d.inPlace(HTMLHeadElement.prototype,o,"dom-"),d.inPlace(HTMLBodyElement.prototype,o,"dom-")),u.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(26)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=i(t,"executor-",e),r=new c(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}var o=t(26),a=t("ee").get("promise"),i=o(a),s=t(23),c=NREUM.o.PR;e.exports=a,c&&(window.Promise=r,["all","race"].forEach(function(o){var i=c[o];c[o]=function(t){function n(t){return function(){a.emit("propagate",[null,!e],r),e=e||!t}}var e=!1;s(t,function(t,e){Promise.resolve(e).then(n("all"===o),n(!1))});var r=i.apply(c,arguments);return c.resolve(r)}}),["resolve","reject"].forEach(function(t){var n=c[t];c[t]=function(t){var e=n.apply(c,arguments);return t!==e&&a.emit("propagate",[t,!0],e),e}}),c.prototype.catch=function(t){return this.then(null,t)},c.prototype=Object.create(c.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(c),function(t,e){try{r[e]=c[e]}catch(t){}}),a.on("executor-start",function(t){t[0]=i(t[0],"resolve-",this),t[1]=i(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),i.inPlace(c.prototype,["then"],"then-",function(t,e){return e}),a.on("then-start",function(t,e){this.promise=e,t[0]=i(t[0],"cb-",this),t[1]=i(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(e,t,n){this.getCtx&&!t||(this.getCtx=function(){if(e instanceof Promise)var t=a.context(e);return t&&t.getCtx?t.getCtx():this})}),r.toString=function(){return""+c})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(26)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){var r=t("ee").get("timer"),o=t(26)(r),i="setTimeout",a="setInterval",s="clearTimeout";e.exports=r,o.inPlace(window,[i,"setImmediate"],i+"-"),o.inPlace(window,[a],a+"-"),o.inPlace(window,[s,"clearImmediate"],s+"-"),r.on(a+"-start",function(t,e,n){t[0]=o(t[0],"fn-",null,n)}),r.on(i+"-start",function(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=o(t[0],"fn-",this,n)})},{}],14:[function(t,e,n){function r(t,e){f.inPlace(e,["onreadystatechange"],"fn-",a)}function o(){var t=c.context(this);3<this.readyState&&!t.resolved&&(t.resolved=!0,c.emit("xhr-resolved",[],this)),f.inPlace(this,v,"fn-",a)}function i(){for(var t=0;t<w.length;t++)r(0,w[t]);w.length&&(w=[])}function a(t,e){return e}t(6);var s=t("ee"),c=s.get("xhr"),f=t(26)(c),u=NREUM.o,d=u.XHR,p=u.MO,l=u.PR,h=u.SI,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],w=[];e.exports=c;var y=window.XMLHttpRequest=function(t){var e=new d(t);try{c.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(t){try{c.emit("internal-error",[t])}catch(t){}}return e};if(function(t,e){for(var n in t)e[n]=t[n]}(d,y),y.prototype=d.prototype,f.inPlace(y.prototype,["open","send"],"-xhr-",a),c.on("send-xhr-start",function(t,e){var n;r(0,e),n=e,w.push(n),p&&(x?x.then(i):h?h(i):(g=-g,b.data=g))}),c.on("open-xhr-start",r),p){var x=l&&l.resolve();if(!h&&!l){var g=1,b=document.createTextNode(g);new p(i).observe(b,{characterData:!0})}}else s.on("fn-end",function(t){t[0]&&t[0].type===m||i()})},{}],15:[function(t,e,n){var a=t(21);e.exports={generateTraceHeader:function(){var t=window.NREUM,e=t.info.accountID||null,n=t.info.agentID||null,r=t.info.trustKey||null,o="btoa"in window&&"function"==typeof window.btoa;if(!e||!n||!o)return null;var i={v:[0,1],d:{ty:"Browser",ac:e,ap:n,id:a.generateCatId(),tr:a.generateCatId(),ti:Date.now()}};return r&&e!==r&&(i.d.tk=r),btoa(JSON.stringify(i))}}},{}],16:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);e.aborted||(n.duration=s.now()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==e.status&&(e.status=0):o(this,t),n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),i("xhr",[e,n,this.startTime]))}}function o(t,e){t.params.status=e.status;var n=function(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}(e,t.lastSize);if(n&&(t.metrics.rxSize=n),t.sameOrigin){var r=e.getResponseHeader("X-NewRelic-App-Data");r&&(t.params.cat=r.split(", ").pop())}t.loadCaptureCalled=!0}var s=t("loader");if(s.xhrWrappable){var i=t("handle"),a=t(17),c=t(15).generateTraceHeader,f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),l=t(20),h=t(19),m=window.XMLHttpRequest;s.features.xhr=!0,t(14),f.on("new-xhr",function(e){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,n.loadCaptureCalled=!1,e.addEventListener("load",function(t){o(n,e)},!1),l&&(34<l||l<10)||window.opera||e.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){var e,n,r,o;this.params={method:t[0]},e=this,n=t[1],r=a(n),(o=e.params).host=r.hostname+":"+r.port,o.pathname=r.pathname,e.sameOrigin=r.sameOrigin,this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid);var n=!1;if("init"in NREUM&&"distributed_tracing"in NREUM.init&&(n=!!NREUM.init.distributed_tracing.enabled),n&&this.sameOrigin){var r=c();r&&e.setRequestHeader("newrelic",r)}}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=s.now(),this.listener=function(t){try{"abort"!==t.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(t){try{f.emit("internal-error",[t])}catch(t){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=s.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[s.now()-this.xhrCbStart,this.onload,e],e)})}},{}],17:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],18:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(s(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(23),s=t(24),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;void 0===window.newrelic&&(newrelic=u);var d="api-",p=d+"ixn-";a(["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],function(t,e){u[e]=o(d+e,!0,"api")}),u.addPageAction=o(d+"addPageAction",!0),u.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(p+"tracer",[f.now(),t,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],n),t}finally{c.emit("fn-end",[f.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(p+e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now(),!1,e])}},{}],19:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(t){return}}}},{}],20:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],21:[function(t,e,n){e.exports={generateUuid:function(){function t(){return e?15&e[n++]:16*Math.random()|0}var e=null,n=0,r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=r.getRandomValues(new Uint8Array(31)));for(var o,i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="",s=0;s<i.length;s++)"x"===(o=i[s])?a+=t().toString(16):a+="y"===o?(o=3&t()|8).toString(16):o;return a},generateCatId:function(){var t=null,e=0,n=window.crypto||window.msCrypto;n&&n.getRandomValues&&Uint8Array&&(t=n.getRandomValues(new Uint8Array(31)));for(var r=[],o=0;o<16;o++)r.push((t?15&t[e++]:16*Math.random()|0).toString(16));return r.join("")}}},{}],22:[function(t,e,n){var i=null,a=null;if(navigator.userAgent){var r=navigator.userAgent,o=r.match(/Version\/(\S+)\s+Safari/);o&&-1===r.indexOf("Chrome")&&-1===r.indexOf("Chromium")&&(i="Safari",a=o[1])}e.exports={agent:i,version:a,match:function(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!a)return!1;for(var n=a.split("."),r=e.split("."),o=0;o<r.length;o++)if(r[o]!==n[o])return!1;return!0}}},{}],23:[function(t,e,n){var i=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}},{}],24:[function(t,e,n){e.exports=function(t,e,n){e||(e=0),void 0===n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}},{}],25:[function(t,e,n){e.exports={exists:void 0!==window.performance&&window.performance.timing&&void 0!==window.performance.timing.navigationStart}},{}],26:[function(t,e,n){function d(t){return!(t&&t instanceof Function&&t.apply&&!t[l])}var r=t("ee"),p=t(24),l="nr@original",h=Object.prototype.hasOwnProperty,a=!1;e.exports=function(o,i){function c(o,i,a,s){function t(){var e,n,r,t;try{n=this,e=p(arguments),r="function"==typeof a?a(e,n):a||{}}catch(t){u([t,"",[e,n,s],r])}f(i+"start",[e,n,s],r);try{return t=o.apply(n,e)}catch(t){throw f(i+"err",[e,n,t],r),t}finally{f(i+"end",[e,n,t],r)}}return d(o)?o:(i||(i=""),function(n,t){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(n);return e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})})}catch(t){u([t])}for(var r in n)h.call(n,r)&&(t[r]=n[r])}(t[l]=o,t),t)}function f(e,n,r){if(!a||i){var t=a;a=!0;try{o.emit(e,n,r,i)}catch(t){u([t,e,n,r])}a=t}}function u(t){try{o.emit("internal-error",t)}catch(t){}}return o||(o=r),c.inPlace=function(t,e,n,r){n||(n="");var o,i,a,s="-"===n.charAt(0);for(a=0;a<e.length;a++)d(o=t[i=e[a]])||(t[i]=c(o,s?i+n:n,r,i))},c.flag=l,c}},{}],ee:[function(t,e,n){function r(){}function i(){return new r}function a(){(m.api||m.feature)&&(w.aborted=!0,m=w.backlog={})}var s="nr@context",c=t("gos"),h=t(23),m={},v={},w=e.exports=function e(f){function u(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function n(t,e,n,r){if(!w.aborted||r){f&&f(t,e,n);for(var o=u(n),i=d(t),a=i.length,s=0;s<a;s++)i[s].apply(o,e);var c=m[p[t]];return c&&c.push([l,t,e,o]),o}}function t(t,e){o[t]=d(t).concat(e)}function d(t){return o[t]||[]}var o={},p={},l={on:t,addEventListener:t,removeEventListener:function(t,e){var n=o[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)},emit:n,get:function(t){return v[t]=v[t]||e(n)},listeners:d,context:u,buffer:function(t,n){h(t,function(t,e){n=n||"feature",(p[e]=n)in m||(m[n]=[])})},abort:a,aborted:!1};return l}();w.backlog=m},{}],gos:[function(t,e,n){var o=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(t){}return t[e]=r}},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");(e.exports=r).ee=o},{}],id:[function(t,e,n){var r=1,o=t("gos");e.exports=function(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:o(t,"nr@id",function(){return r++})}},{}],loader:[function(t,e,n){function r(){if(!b++){var n=g.info=NREUM.info,t=p.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(n&&n.licenseKey&&n.applicationID&&t))return f.abort();c(y,function(t,e){n[t]||(n[t]=e)}),s("mark",["onload",i()+g.offset],null,"api");var e=p.createElement("script");e.src="https://"+n.agent,t.parentNode.insertBefore(e,t)}}function o(){s("mark",["domContent",i()+g.offset],null,"api")}function i(){return E.exists&&performance.now?Math.round(performance.now()):(a=Math.max((new Date).getTime(),a))-g.offset}var a=(new Date).getTime(),s=t("handle"),c=t(23),f=t("ee"),u=t(22),d=window,p=d.document,l="addEventListener",h="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1130.min.js"},x=m&&v&&v[l]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:a,now:i,origin:w,features:{},xhrWrappable:x,userAgent:u};t(18),p[l]?(p[l]("DOMContentLoaded",o,!1),d[l]("load",r,!1)):(p[h]("onreadystatechange",function(){"complete"===p.readyState&&o()}),d[h]("onload",r)),s("mark",["firstbyte",a],null,"api");var b=0,E=t(25)},{}]},{},["loader",2,16,5,3,4]),NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"0f728918ea",applicationID:"429331905",sa:1}</script><link href="The%20PBR%20Guide%20-%20Part%201-Dateien/2.css" rel="stylesheet"><link href="The%20PBR%20Guide%20-%20Part%201-Dateien/main.css" rel="stylesheet"><meta name="title" content="The PBR Guide - Part 1" data-react-helmet="true"><meta name="description" content="&lt;h2&gt;The PBR Guide by Allegorithmic - Part 1&lt;/h2&gt;

&lt;h3&gt;Light and Matter : The theory of Physically-Based Rendering and Shading&lt;/h3&gt;

&lt;p&gt;To read this offline, you can download the attachement which is a PDF of the entire book (Part 1 + Part 2)&lt;/p&gt;
" data-react-helmet="true"><meta property="og:title" content="The PBR Guide - Part 1" data-react-helmet="true"><meta property="og:description" content="&lt;h2&gt;The PBR Guide by Allegorithmic - Part 1&lt;/h2&gt;

&lt;h3&gt;Light and Matter : The theory of Physically-Based Rendering and Shading&lt;/h3&gt;

&lt;p&gt;To read this offline, you can download the attachement which is a PDF of the entire book (Part 1 + Part 2)&lt;/p&gt;
" data-react-helmet="true"><meta property="og:image" content="https://cdn.substance3d.com/files/academy/38202b33-c362-4368-bc25-e6ae6af4e4f7" data-react-helmet="true"><meta name="twitter:card" content="summary_large_image" data-react-helmet="true"></head><body class=""><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><header><div class="ui menu"><div class="left menu"><a href="https://academy.substance3d.com/"><span class="isvg loaded academy-logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 228.4 79">
	<g>
		<g>
			<path d="M0.3,28.9C0.1,28.8,0,28.5,0,28.2v-5.3c0-0.2,0.2-0.4,0.4-0.2C2.9,24.3,5.8,25,8.5,25        c3.4,0,4.8-1.2,4.8-2.7c0-1.4-1-2.5-4.1-3.8L7,17.6C1.5,15.3,0,12.5,0,9c0-4.8,3.7-8.7,10.8-8.7c2.8,0,5.4,0.4,7,1.2        c0.2,0.1,0.3,0.3,0.3,0.6v5c0,0.2-0.1,0.4-0.4,0.2c-1.8-1-4.3-1.5-6.9-1.5C7.3,5.8,6.1,7,6.1,8.4s0.9,2.3,4.3,3.7l1.7,0.7        c6,2.5,7.6,5.3,7.6,8.9c0,5.4-4.4,8.8-11.3,8.8C4.9,30.4,2.2,29.9,0.3,28.9z"></path>
			<path d="M29.6,18.3c0,3.9,1.8,6.6,5.8,6.6c3.4,0,5.6-1.8,5.6-6.7V1c0-0.3,0.1-0.4,0.4-0.4h5.5        c0.3,0,0.4,0.1,0.4,0.4v17.6c0,8.5-5.3,11.8-12,11.8c-7.3,0-11.9-3.8-11.9-11.6V1c0-0.3,0-0.4,0.4-0.4h5.5        c0.3,0,0.4,0.1,0.4,0.4L29.6,18.3L29.6,18.3z"></path>
			<path d="M53.3,1.1c0-0.3,0-0.4,0.3-0.4c1.6,0,6-0.1,9.2-0.1c9.6,0,11.1,4.9,11.1,7.9c0,3.1-1.6,4.9-2.7,5.7        c1.7,0.9,4.2,2.8,4.2,6.9c0,5.5-4.8,9.1-12.5,9.1c-4.4,0-7.5,0-9.2-0.1c-0.2,0-0.3-0.2-0.3-0.4V1.1H53.3L53.3,1.1z M59.5,12.1        h3.1c1.5,0,3.3,0.1,4,0.2c0.8-0.7,1.3-1.6,1.3-3.1c0-2.3-1.7-3.5-5.1-3.5c-1.4,0-2.3,0-3.3,0.1C59.5,5.8,59.5,12.1,59.5,12.1z         M59.5,24.8c0.9,0,1.9,0.1,3.3,0.1c3.9,0,6.2-1.2,6.2-3.8c0-1.5-0.6-2.8-2.7-3.4c-0.7-0.2-1.7-0.3-2.8-0.3h-3.9v7.4        C59.6,24.8,59.5,24.8,59.5,24.8z"></path>
			<path d="M79.3,28.9c-0.2-0.1-0.3-0.4-0.3-0.7v-5.3c0-0.2,0.2-0.4,0.4-0.2c2.5,1.6,5.4,2.3,8.1,2.3        c3.4,0,4.8-1.2,4.8-2.7c0-1.4-1-2.5-4.1-3.8L86,17.6c-5.5-2.3-7-5.1-7-8.6c0-4.8,3.7-8.7,10.8-8.7c2.8,0,5.4,0.4,7,1.2        c0.2,0.1,0.3,0.3,0.3,0.6v5c0,0.2-0.1,0.4-0.4,0.2c-1.8-1-4.3-1.5-6.9-1.5c-3.5,0-4.7,1.2-4.7,2.6s0.9,2.3,4.3,3.7l1.7,0.7        c6,2.5,7.6,5.3,7.6,8.9c0,5.4-4.4,8.8-11.3,8.8C83.9,30.4,81.2,29.9,79.3,28.9z"></path>
			<path d="M109.1,6.2h-8.8c-0.3,0-0.3-0.1-0.3-0.4l0.6-4.8c0-0.3,0.1-0.4,0.4-0.4h22.4c0.3,0,0.4,0.1,0.5,0.4        l0.4,4.8c0,0.3-0.1,0.4-0.4,0.4h-8.8v23.4c0,0.3-0.2,0.4-0.4,0.4h-5.4c-0.3,0-0.4-0.1-0.4-0.4V6.2H109.1z"></path>
			<path d="M130.1,22.9l-2.2,6.6c-0.1,0.2-0.2,0.4-0.5,0.4h-5.2c-0.3,0-0.4-0.2-0.4-0.4l9-25.9        c0.2-0.5,0.4-1,0.4-2.7c0-0.2,0.1-0.3,0.3-0.3h7.2c0.2,0,0.3,0,0.4,0.3l10.2,28.6c0.1,0.2,0,0.4-0.2,0.4h-5.8        c-0.3,0-0.4-0.1-0.5-0.3l-2.3-6.7L130.1,22.9L130.1,22.9z M138.8,17.4c-0.9-3-2.7-8.4-3.5-11.6l0,0c-0.7,3-2.3,7.9-3.5,11.6        H138.8z"></path>
			<path d="M153.1,29.9c-0.3,0-0.4,0-0.4-0.4V0.9c0-0.2,0.1-0.4,0.3-0.4h7.3c0.4,0,0.4,0.1,0.6,0.4        c3,5.5,9.1,17.3,10.5,20.6l0,0c0-1.3-0.1-2.6-0.1-7V1c0-0.3,0.1-0.4,0.4-0.4h5c0.3,0,0.4,0.1,0.4,0.4v28.5        c0,0.4-0.1,0.4-0.5,0.4h-6.5c-0.4,0-0.5-0.1-0.6-0.4c-2.5-4.9-9.3-17.5-11.2-22.3l0,0c0.2,2.6,0.2,4.4,0.2,8.6v13.7        c0,0.3-0.1,0.4-0.4,0.4H153.1z"></path>
			<path d="M204,28.9c0,0.3-0.1,0.5-0.4,0.6c-1.5,0.5-3.7,0.8-6.2,0.8c-8.7,0-15.5-5.2-15.5-15        c0-9.1,6.3-15.3,16.2-15.3c2.8,0,4.7,0.2,5.8,0.8c0.2,0.1,0.3,0.3,0.3,0.5v4.9c0,0.4-0.2,0.4-0.4,0.3c-1.5-0.7-3.6-1-5.8-1        c-6,0-9.7,3.7-9.7,9.6c0,7,5.1,9.7,9.8,9.7c2.2,0,3.9-0.2,5.5-0.7c0.2-0.1,0.4,0,0.4,0.2L204,28.9L204,28.9z"></path>
			<path d="M227.7,29.6c0,0.4-0.1,0.4-0.4,0.4H209c-0.3,0-0.4-0.1-0.4-0.4V1c0-0.3,0.1-0.4,0.4-0.4h17.7        c0.4,0,0.4,0,0.5,0.4l0.5,4.8c0,0.2,0,0.4-0.3,0.4h-12.5v6h11.3c0.2,0,0.4,0.1,0.4,0.4v4.9c0,0.3-0.2,0.3-0.4,0.3h-11.4v6.6        H228c0.4,0,0.4,0.1,0.4,0.4L227.7,29.6z"></path>
		</g>
		<g fill="#2482c5">
			<path d="M9.2,67.3L5.4,78.1c-0.1,0.2-0.2,0.3-0.4,0.3H1.4c-0.3,0-0.4-0.2-0.3-0.4l11.6-32.4c0.2-0.4,0.3-0.8,0.4-2.2     c0-0.2,0.1-0.3,0.3-0.3h5.2c0.2,0,0.3,0.1,0.3,0.3L31.4,78c0.1,0.2,0.1,0.4-0.2,0.4h-4.1c-0.2,0-0.3-0.1-0.4-0.3l-3.9-10.8     C22.8,67.3,9.2,67.3,9.2,67.3z M21.5,63.3c-1.2-3.5-4.5-12.8-5.6-16.4h-0.1c-0.9,3.4-3.5,10.6-5.5,16.4     C10.3,63.3,21.5,63.3,21.5,63.3z"></path>
			<path d="M59.2,77.5c0,0.3-0.1,0.5-0.3,0.5c-1.8,0.7-4.2,1-7.2,1c-8.9,0-18-5.2-18-18.3c0-10.7,7.4-18.1,18.7-18.1     c3.6,0,5.7,0.4,6.8,1c0.2,0.1,0.3,0.2,0.3,0.4v3.6c0,0.3-0.2,0.3-0.4,0.3c-1.5-0.8-3.9-1.2-6.8-1.2c-8.4,0-14.1,5.4-14.1,14     c0,11.2,8.4,14.3,14,14.3c2.7,0,4.7-0.2,6.7-1c0.2-0.1,0.3-0.1,0.3,0.2C59.2,74.2,59.2,77.5,59.2,77.5z"></path>
			<path d="M71,67.3l-3.8,10.8c-0.1,0.2-0.2,0.3-0.4,0.3h-3.6c-0.3,0-0.4-0.2-0.3-0.4l11.6-32.4     c0.2-0.4,0.3-0.8,0.4-2.2c0-0.2,0.1-0.3,0.3-0.3h5.2c0.2,0,0.3,0.1,0.3,0.3L93.2,78c0.1,0.2,0.1,0.4-0.2,0.4h-4.1     c-0.2,0-0.3-0.1-0.4-0.3l-3.9-10.8C84.6,67.3,71,67.3,71,67.3z M83.4,63.3c-1.2-3.5-4.5-12.8-5.6-16.4h-0.1     c-0.9,3.4-3.5,10.6-5.5,16.4C72.2,63.3,83.4,63.3,83.4,63.3z"></path>
			<path d="M98,43.7c0-0.3,0.1-0.4,0.3-0.4c1.3-0.1,4.1-0.2,9.3-0.2c12.1,0,18.6,7,18.6,17.1     c0,13.5-10.1,18.4-19.1,18.4c-3,0-7-0.1-8.9-0.1c-0.2,0-0.3-0.2-0.3-0.4L98,43.7L98,43.7z M102.4,74.5c1.1,0.1,2.9,0.1,4.5,0.1     c8.6,0,14.7-4.7,14.7-14.4c0-8.9-6.1-13.2-14.1-13.2c-1.9,0-3.6,0.1-5.1,0.1V74.5L102.4,74.5z"></path>
			<path d="M153.7,78.2c-0.1,0.3-0.2,0.3-0.4,0.3H133c-0.4,0-0.4-0.1-0.4-0.4V43.5c0-0.3,0.1-0.4,0.4-0.4h19.5     c0.3,0,0.3,0.1,0.4,0.3l0.4,3.4c0.1,0.2,0,0.4-0.3,0.4h-16v11.3h14.4c0.2,0,0.3,0.1,0.3,0.3v3.4c0,0.3-0.2,0.3-0.3,0.3H137v12h17     c0.3,0,0.3,0.1,0.3,0.3L153.7,78.2z"></path>
			<path d="M161.9,43.2h5.9c0.3,0,0.3,0.1,0.4,0.3c1.8,5.5,8.3,24.7,9.4,29.3h0.1c1.2-4.4,8.3-23.9,10.1-29.3     c0.1-0.2,0.1-0.3,0.4-0.3h5.8c0.3,0,0.3,0.1,0.3,0.3l1.8,34.7c0.1,0.2-0.1,0.3-0.3,0.3h-3.9c-0.3,0-0.4-0.1-0.4-0.3     c-0.5-12.3-1-28.7-1-31.9h-0.1c-1.3,4.8-8.4,25-10.7,31.8c-0.1,0.3-0.2,0.3-0.4,0.3h-3.7c-0.3,0-0.4-0.1-0.5-0.3     c-2.8-8.9-8.4-26.5-9.9-31.9h-0.1c-0.1,4.6-1,20.7-1.6,31.9c0,0.3-0.1,0.3-0.4,0.3h-3.6c-0.3,0-0.3-0.1-0.3-0.3l2.3-34.6     C161.5,43.2,161.6,43.2,161.9,43.2z"></path>
			<path d="M198.5,43.5c-0.2-0.2,0.1-0.4,0.3-0.4h4.3c0.3,0,0.3,0.1,0.4,0.2c6.6,12,8.8,15.7,9.6,17.6     c0.9-1.8,3-5.7,9.4-17.5c0.1-0.2,0.2-0.3,0.4-0.3h4.2c0.2,0,0.3,0.2,0.2,0.3L215.5,64c-0.3,0.5-0.4,0.8-0.4,1.4     c0,4.1,0,12.6,0,12.6c0,0.3-0.1,0.4-0.4,0.4h-3.6c-0.4,0-0.5-0.1-0.5-0.4V65.2c0-0.6,0-0.9-0.3-1.3L198.5,43.5z"></path>
		</g>
	</g>
</svg></span></a></div><div class="menu-center"><nav><div class="ui menu"><div class="item search"><div class="ui icon input"><input placeholder="Search..." type="text"><i aria-hidden="true" class="search icon"></i></div></div><a class="item" href="https://academy.substance3d.com/courses/popular">Most popular</a><div role="listbox" aria-expanded="false" class="ui item dropdown softwares-wrapper" tabindex="0"><div class="text" role="alert" aria-live="polite" aria-atomic="true">Software</div><i aria-hidden="true" class="dropdown icon"></i><div class="menu transition softwares"><a class="item software-link" href="https://academy.substance3d.com/search?software=substance%20painter"><span class="isvg loaded"><svg version="1.1" viewBox="0 0 146.8 141.2" xmlns="http://www.w3.org/2000/svg">
    <ellipse transform="matrix(.1602 -.9871 .9871 .1602 45.339 71.69)" cx="64.8" cy="9.2" rx="9.2" ry="9.2"></ellipse>
    <circle cx="132.3" cy="126.7" r="14.5"></circle>
    <circle cx="6.4" cy="126.7" r="6.4"></circle>
    <path d="m64.8 28.1c-31 0-56.1 25.1-56.1 56.1s25.1 56.1 56.1 56.1 56.1-25.1 56.1-56.1-25.1-56.1-56.1-56.1zm-38 34.4l37.9-21.8 37.9 21.8v19.8l-17.4-5.6v-4.1l-20.4-11.8-14.9 8.7 52.8 16.9v19.8l-37.9 21.8-37.9-21.8v-19.8l17.5 5.5v4.1l20.4 11.8 15.2-8.8-53.2-16.8v-19.7z"></path>
</svg></span>Substance Painter</a><a class="item software-link" href="https://academy.substance3d.com/search?software=substance%20designer"><span class="isvg loaded"><svg version="1.1" viewBox="0 0 174 143.3" xmlns="http://www.w3.org/2000/svg">
    <path d="m170.1 83.6h-27.1v-44.9c0-4.3-3.5-7.8-7.8-7.8h-44.9v-27.1c0-2.1-1.5-3.8-3.4-3.8s-3.4 1.7-3.4 3.8v27.1h-45c-4.3 0-7.8 3.5-7.8 7.8v45h-26.9c-2.1 0-3.8 1.5-3.8 3.4s1.7 3.4 3.8 3.4h26.9v45c0 4.3 3.5 7.8 7.8 7.8h96.8c4.3 0 7.8-3.5 7.8-7.8v-45h27.1c2.1 0 3.8-1.5 3.8-3.4s-1.8-3.5-3.9-3.5zm-121.1-18.5l37.8-21.8 37.8 21.8v19.8l-17.4-5.6v-4.1l-20.4-11.8-14.9 8.7 52.8 16.9v19.7l-37.8 21.8-37.9-21.8v-19.8l17.5 5.5v4.1l20.4 11.8 15.2-8.8-53.1-16.7v-19.7z"></path>
</svg></span>Substance Designer</a><a class="item software-link" href="https://academy.substance3d.com/search?software=substance%20alchemist"><span class="isvg loaded"><svg viewBox="0 0 134.9 117.1" xmlns="http://www.w3.org/2000/svg">
    <path d="m97.4 50.5l-28.8-49.9c-0.5-0.8-1.6-0.8-2 0l-28.8 49.9 29.8-17.2 29.8 17.2zm-67.9 28.7l17.6 5.6v4.2l20.4 11.8 15.3-8.8-53.4-16.9v-10.4l-29.2 50.6c-0.5 0.8 0.1 1.8 1 1.8h59.2l-31-17.9 0.1-20zm105.3 36.1l-29.2-50.6v10.4l-17.5-5.6v-4.1l-20.4-11.8-15 8.7 53 17v19.9l-31 17.9h59.2c0.8-0.1 1.3-1.1 0.9-1.8z"></path>
</svg></span>Substance Alchemist</a><a class="item software-link" href="https://academy.substance3d.com/courses/integrations"><span class="isvg loaded"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="square" stroke-linejoin="arcs"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></span>Substance Integrations</a></div></div><a class="item" href="https://academy.substance3d.com/streams/youtube"><div class="stream-menu">Livestreams</div></a><a class="item" href="https://academy.substance3d.com/courses/pbrguides">PBR Guide</a><a href="https://docs.substance3d.com/home" rel="noopener noreferrer" target="_blank" class="item">Documentation</a><a href="https://forum.substance3d.com/#c9" rel="noopener noreferrer" target="_blank" class="item">Forum</a></div></nav></div><div class="right menu"><div role="listbox" aria-expanded="false" class="ui item dropdown header-icon" tabindex="0"><div class="text" role="alert" aria-live="polite" aria-atomic="true"></div><i aria-hidden="true" class="language icon"></i><div class="menu transition"><div role="option" class="item"><span class="text">English</span></div><div role="option" class="item"><span class="text">中文</span></div></div></div></div></div></header><main><div class="course-page text"><div class="course-page__header"><div class="ui grid labels"><div class="row"><div class="column"><div class="ui label unclickable"><i aria-hidden="true" class="clock outline icon"></i>37:00</div><a class="ui label" href="https://academy.substance3d.com/search?level=0"><i aria-hidden="true" class="certificate icon"></i>Foundation</a><a class="ui label" href="https://academy.substance3d.com/search?q=PBR">#PBR</a><a class="ui label" href="https://academy.substance3d.com/search?q=PBR%20Guide">#PBR Guide</a></div></div></div><h2>The PBR Guide - Part 1</h2><div class="course-page__description"><h2>The PBR Guide by Allegorithmic - Part 1</h2>

<h3>Light and Matter : The theory of Physically-Based Rendering and Shading</h3>

<p>To read this offline, you can download the attachement which is a PDF of the entire book (Part 1 + Part 2)</p>
</div><div class="row course-page__attachments"><div class="col-lg-12"><div><span class="h4 course-assets_content-title"><i class="fa fa-angle-double-down " aria-hidden="true"></i> Download Project Files</span><div class="course-assets__collapse open"><a href="https://academy-api.substance3d.com/courses/b6377358ad36c444f45e2deaa0626e65/attachments/2b57526e-4bf3-4fd6-ae88-e9a9313a35cc" class="course-assets__content-item"><div class="course-assets_content-item-column type"><i class="fa fa-file-pdf" aria-hidden="true"></i></div><div class="course-assets_content-item-column">PBR Guide 2018 version.pdf</div><div class="course-assets_content-item-column size">46.47MB</div></a></div></div></div></div></div><div class="course-page__content"><div class="course-page__lesson"><p><img src="The%20PBR%20Guide%20-%20Part%201-Dateien/38202b33-c362-4368-bc25-e6ae6af4e4f7.jpg" alt="" style="cursor: zoom-in;"></p><div class="course-page__text"><p>Read the second part of the PBR Guide <a href="https://academy.allegorithmic.com/courses/05171e19aa8dc19421385fd9bb9e016e" target="_blank" rel="nofollow noopener">here</a></p>

<h2>Table of Contents</h2>

<ul>
<li>Light Rays</li>
<li>Absorption and Scattering - Transparency and Translucency</li>
<li>Diffuse and Specular Reflection - Microfacet Theory</li>
<li>Color</li>
<li>BRDF</li>
<li>Energy Conservation</li>
<li>Fresnel Effect - F0 (Fresnel Reflectance at 0 Degrees)</li>
<li>Conductors and Insulators - Metals and Non Metal</li>
<li>Linear Space Rendering</li>
<li>Key characteristics of PBR</li>
</ul>

<h1>The theory of Physically-Based Rendering and Shading</h1>

<p>Light is a complex phenomenon as it can exhibit properties of both a 
wave and a particle. As a result, different models have been created to 
describe its behavior.</p>

<p>As texture artists, we are interested in the ray model of light as it
 describes the interaction of light and matter. Understanding how light 
rays interact with surface matter is important because our job is to 
create textures that describe a surface. The textures and materials we 
author interact with light in our virtual worlds. The more we understand
 how light behaves, the better our textures will look.</p>

<p>In this guide, we will discuss the theory behind the physics of 
physically based rendering (PBR) models. We will start by examining the 
behavior of light rays and work up to defining the key characteristics 
of PBR.</p>

<h3>Light Rays</h3>

<p>The ray model of light states that a light ray has the trajectory of a
 straight line in a homogeneous transparent medium such as air. The ray 
model also says that the ray will behave in a predictable manner when 
encountering surfaces such as opaque objects, or when passing through a 
different medium such as from air to water.</p>

<p>This makes it possible to visualize the path of the light ray as it 
moves from its starting point to another point where it changes into 
another form of energy, such as heat.</p>

<p>A light ray that hits a surface is called the incident ray and the 
angle at which it hits is called the angle of incidence (Figure 01).</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/fe2fcf01-5912-4975-9e72-f94277eca7a7.png" style="cursor: zoom-in;">
	<figcaption>Figure 01: Angle of incidence, incident and reflected rays</figcaption>
</figure>
<p></p>

<p>A light ray is incident on a plane interface between two media. When a
 light ray hits a surface, one or both of the following events may 
occur:</p>

<ol>
<li><p>The light ray is reflected off the surface and travels in a 
different direction. It follows the Law of Reflection, which states that
 the angle of reflection is equal to the angle of incidence (reflected 
light).</p></li>

<li><p>The light ray passes from one medium to another in the trajectory of a straight line (refracted light).</p></li>
</ol>

<p>At this point, light rays split into two directions: reflection and 
refraction. At the surface, the ray is either reflected or refracted, 
and it can be eventually absorbed by either medium. However, absorption 
does not occur at the surface of the material.</p>

<h3>Absorption and Scattering (Transparency and Translucency)</h3>

<p>When traveling in an inhomogeneous medium or translucent material, light can be absorbed or scattered:</p>

<p>When light is absorbed, the light intensity decreases as it changes 
into another form of energy – usually heat. Its color changes as the 
amount of light absorbed depends on the wavelength, but the direction of
 the ray doesn’t change.</p>

<p>When light is scattered, the ray direction changes randomly, and the 
amount of deviation depends on the material. Scattering randomizes light
 direction, but doesn’t change its intensity. An ear is a good example 
of this phenomenon. The ear is thin (absorption is low), so you can see 
the scattered light radiating from the back of the ear, as shown in 
Figure 02.</p>

<p>If there is no scattering and the absorption is low, rays can pass 
directly through the surface. This is the case with glass. For example, 
imagine you are swimming in a clean pool. You can open your eyes and see
 a great distance through the clear water. However, if that same pool is
 relatively dirty, the dirt particles will scatter the light and lower 
the clarity of the water, and the distance you can see will be reduced 
as a result.</p>

<p>The further light travels in such a medium/material, the more it is 
absorbed and/or scattered. Therefore, object thickness plays a large 
role in how much the light is absorbed or scattered. A thickness map can
 be used to describe object thickness to the shader as shown in Figure 
03.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/69944ff1-5c2f-42f4-b0f4-3dde301818d8.png" style="cursor: zoom-in;">
	<figcaption>Figure 03: Thickness map used with subsurface scattering within Substance Painte</figcaption>
</figure>
<p></p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/869c36e3-37bf-498e-8202-b33510b6b3df.png" style="cursor: zoom-in;">
	<figcaption>Figure 02: Scattered light radiating from back of the ear</figcaption>
</figure>
<p></p>

<h3>Diffuse and Specular Reflection</h3>

<p><em>Specular reflection</em> refers to light that has been reflected 
at the surface, as we discussed in the light ray section.  The light ray
 is reflected off the surface and travels in a different direction. It 
follows the law of reflection, which states that on a perfectly planar 
surface the angle of reflection is equal to the angle of incidence. 
However, most surfaces are irregular, and the reflected direction will 
vary randomly based on the surface roughness. This changes light 
direction, but the light intensity remains constant.</p>

<p>Rougher surfaces will have highlights that are larger, and that 
appear dimmer. Smoother surfaces will keep specular reflections focused,
 and they will appear to look brighter or more intense when viewed from 
the proper angle. However, the same total amount of light is reflected 
in both cases (Figure 04)</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/e221d725-3d3e-448f-8637-339eda272186.png" style="cursor: zoom-in;">
	<figcaption>Figure 04: Reflected direction will vary randomly based on the surface roughness</figcaption>
</figure>
<p></p>

<p><em>Refraction</em> is a change in a light ray’s direction. When light moves from one medium to another it changes speed and direction. The <em>index of refraction</em>, or <em>IOR</em>,
 is an optical measurement that describes the change in the direction a 
light ray is traveling. Essentially, the IOR value is used to determine 
how much the ray will be bent when it passes through one medium to 
another. For example, water has an IOR of 1.33, whereas plate glass has 
an IOR of 1.52. In figure 05 you can see a rendering of a straw placed 
in a glass of water. The straw appears bent due to refraction as the 
light travels through different mediums (air, water and glass).</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/ed526562-e2b9-425f-9efe-84761323275f.png" style="cursor: zoom-in;">
	<figcaption>Figure 05: The straw appears bent due to refraction</figcaption>
</figure>
<p></p>

<p><em>Diffuse reflection</em> is light that has been refracted. The 
light ray passes from one medium to another; as our example, we’ll 
assume that it enters an object. The light is then scattered multiple 
times within this object. It is finally refracted again, out of the 
object, making its way back to the original medium at approximately the 
same point where it initially entered (Figure 06).</p>

<p>Diffuse materials are absorbent. If the refracted light travels for 
too long in such a material, it may be absorbed completely. If the light
 does exit this material, it has likely traveled only a very small 
distance from the point of entry.</p>

<p>Therefore, the distance between the entry and exit points can be 
considered negligible. The Lambertian model, which is used for diffuse 
reflection in a traditional shading sense, does not take surface 
roughness into account. Other diffuse reflection models, such as the 
Oren-Nayar model, do account for this roughness, however.</p>

<p>Materials that have both high scattering and low absorption are 
sometimes referred to as participating media or translucent materials. 
Examples of these are smoke, milk, skin, jade and marble. Rendering of 
the latter three may be possible with the additional modeling of 
subsurface scattering where the difference between the ingoing and 
outgoing point of the light ray is no longer considered negligible. 
Accurate rendering of media with highly varying and very low scattering 
and absorption, such as smoke or fog, may require even more expensive 
methods such as Monte Carlo simulations.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/662d0e10-e707-42c6-8d7c-27fd953056a4.png" style="cursor: zoom-in;">
	<figcaption>Figure 06: A light ray travelling from one medium to another scattering inside the object</figcaption>
</figure>
<p></p>

<h4>Microfacet Theory</h4>

<p>In theory, both diffuse and specular reflection are dependent on the 
surface irregularities where the light rays intersect with a medium. In 
practice however, the effect of roughness on diffuse reflection is less 
visible because of the scattering that occurs inside the material. As a 
result, the outgoing direction of the ray is fairly independent of 
surface roughness and the incident direction. The most common model for 
diffuse reflection (Lambertian) completely neglects roughness.</p>

<p>In this guide, we refer to these surface irregularities as surface 
roughness. Surface irregularities can have several other names, 
including roughness, smoothness, glossiness or micro-surface, depending 
on the PBR workflow in use. All these terms describe the same aspect of a
 surface, which is sub-texel geometric detail.</p>

<p>These surface irregularities are authored in the roughness or 
glossiness map depending on the workflow that is being used. A 
physically-based BRDF is based on the microfacet theory, which supposes 
that a surface is composed of small-scaled planar detail surfaces of 
varying orientation called microfacets. Each of these small planes 
reflects light in a single direction based on its normal (Figure 07).</p>

<p>Micro-facets whose surface normal is oriented exactly halfway between
 the light direction and view direction will reflect visible light. 
However, in cases where the microsurface normal and the half normal are 
equal, not all microfacets will contribute as some will be blocked by 
shadowing (light direction) or masking (view direction) as illustrated 
in Figure 07.</p>

<p>The surface irregularities at a microscopic level cause light 
diffusion. For example, blurred reflections are caused by scattered 
light rays. The rays are not reflected in parallel, so we perceive the 
specular reflection as blurred (Figure 08).</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/c1a54a83-66a5-49e0-9e0e-4df25a3fce48.png" style="cursor: zoom-in;">
	<figcaption>Figure 07: Physically-based BRDF based on microfacet theory</figcaption>
</figure>
<p></p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/294726f5-0e48-42ec-979b-f4b6fe7dd618.png" style="cursor: zoom-in;">
	<figcaption>Figure 08: Blurred reflections are due to scattered light rays</figcaption>
</figure>
<p></p>

<h3>Color</h3>

<p>The visible color of a surface is due to the wavelengths emitted by 
the light source. These wavelengths are absorbed by the object and 
reflected both specularly and diffusely. The remaining reflected 
wavelengths are what we see as color.</p>

<p>For example, the skin of an apple mostly reflects red light. Only the
 red wavelengths are scattered back outside the apple skin, while the 
others are absorbed (Figure 09).</p>

<p>The apple also has bright specular highlights the same color as the 
light source because with materials that do not conduct electricity 
(dielectrics) – like the skin of an apple – specular reflection is 
almost independent of wavelength. For these materials, the specular 
reflection is never colored. We will discuss the different type of 
materials (metals and dielectrics) in later sections.</p>

<p>Substance PBR shaders use the GGX microfacet distribution.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/69730a62-a1bc-49c0-8ca1-90f67cf84c68.png" style="cursor: zoom-in;">
	<figcaption>Figure 09: Red wavelengths are reflected to the eye</figcaption>
</figure>
<p></p>

<h3>BRDF</h3>

<p>A bidirectional reflectance distribution function (BRDF) is a 
function that describes the reflectance properties of a surface. In 
computer graphics, there are different BRDF models – some of which are 
not physically plausible. For a BRDF to be physically plausible, it must
 be energy conserving and exhibit reciprocity. Reciprocity refers to the
 Helmholtz Reciprocity Principle, which states that incoming and 
outgoing light rays can be considered as reversals of each other without
 affecting the outcome of the BRDF.</p>

<p>The BRDF used by Substance’s PBR shaders are based on Disney’s 
principled reflectance model. This model is based on the GGX microfacet 
distribution. GGX provides one of the better solutions in terms of 
specular distribution: with a shorter peak in the highlight and a longer
 tail in the falloff, it looks more realistic (Figure 10).</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/0a181fef-f0c8-4dd5-9749-874cffb3e31c.png" style="cursor: zoom-in;">
	<figcaption>Figure 10: GGX vs Blinn specular distribution – GGX provides one of the better solutions in terms of specular distribution</figcaption>
</figure>
<p></p>

<h3>Energy Conservation</h3>

<p>Energy conservation plays a vital role in physically-based rendering 
solutions. This principle states the total amount of light re-emitted by
 a surface (reflected and scattered back) is less than the total amount 
received. In other words, the light reflected from the surface will 
never be more intense than it was before it hit the surface. As artists,
 we don’t have to worry about controlling energy conservation. This is 
one of the advantages of PBR: energy conservation is always enforced by 
the shader. This is part of the physically-based model and it allows us 
to focus on art rather than physics.</p>

<h3>Fresnel Effect</h3>

<p>The Fresnel reflection factor also plays a vital role in 
physically-based shading as a coefficient of the BRDF. The Fresnel 
Effect, as observed by French physicist Augustin-Jean Fresnel, states 
that the amount of light reflected from a surface depends on the viewing
 angle at which it is perceived. Think of a pool of water. If you look 
straight down, perpendicular to the water surface, you can see down to 
the bottom. Viewing the water surface in this manner would be at zero 
degrees or normal incidence, normal being the surface normal. If you 
look at the pool of water at a grazing incidence, more parallel to the 
water surface, you will see that the specular reflections on the water 
surface become more intense and you may not be able to see below the 
surface of the water at all.</p>

<p>Fresnel is not something that we control in PBR as we did in 
traditional shading. Again, this is another aspect of physics that is 
handled by the PBR shader. When viewing a surface at a grazing 
incidence, all smoothed surfaces will become reflectors at nearly 100% 
at a 90-degree angle of incidence.</p>

<p>For rough surfaces, reflectance will become increasingly specular but
 will not approach 100% specular reflection. The most important factor 
here is the angle between the normal of each microfacet and the light, 
rather than the angle between the normal of the ‘‘macrosurface’’ and the
 light. Because the light rays are dispersed in different directions, 
the reflection appears softer, or dimmer. What occurs at a macroscopic 
level is somewhat similar to the average of all the Fresnel Effect you 
would observe for the collective microfacets.</p>

<h4>F0 (Fresnel Reflectance at 0 Degrees)</h4>

<p>When light hits a surface straight on or perpendicularly (at a 
0-degree angle), a percentage of that light is reflected as specular. 
Using the index of refraction (IOR) for a surface, you can derive the 
amount that is reflected. This is referred to as F0 (Fresnel zero) 
(Figure 11). The amount of light that is refracted into the surface is 
referred to as 1–F0.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/6885ad69-0e64-4011-be2e-144024ebc182.png" style="cursor: zoom-in;">
	<figcaption>Figure 11: For a smooth dielectric surface, F0 will reflect between 2-5% of light and 100% at grazing angles</figcaption>
</figure>
<p></p>

<p>The F0 range for most common dielectrics will be from 0.02-0.05 
(linear values). For conductors, the F0 range will be 0.5-1.0. The 
reflectivity of a surface is therefore determined by the refractive 
index as shown in the equation below (Lagarde 2011).</p>

<p><img src="The%20PBR%20Guide%20-%20Part%201-Dateien/13f5bce6-0959-442b-9757-9f76b4b51fb7.png" title="" alt="" class="small" style="cursor: zoom-in;"></p>

<p>It is the F0 reflectance value that we are concerned with in regards 
to authoring our textures. Non-metals (dielectrics/insulators) will have
 a greyscale value and metals (conductors) will have an RGB value. With 
regards to PBR and from an artistic interpretation of reflectance, we 
can state that for a common smooth dielectric surface, F0 will reflect 
between 2% and 5% of light and 100% at grazing angles as was shown in 
Figure 11.</p>

<p>The dielectric (non-metal) reflectance values don't actually change 
very drastically. In fact, when altered by roughness the actual changes 
in value can be hard to see. However, there is a difference in the 
values. In
Figure 12, you can see a chart that shows the F0 ranges for both metal 
and non-metal materials.</p>

<p>Notice that the ranges for non-metals do not deviate from each other 
drastically. Gemstones are an exception as they have higher values. We 
will discuss F0 as it specifically relates to conductors and insulators a
 bit later.</p>

<h3>Conductors and Insulators (Metals and Non-Metals)</h3>

<p>When creating materials for PBR, it is helpful to think in terms of 
metal or non-metal. Ask yourself if the surface is metal or not. If it 
is, you will need to follow one set of guidelines. If it is not, you 
will need to follow another.</p>

<p>This can be a simplistic approach as some materials may not fall into
 these categories such as metalloids (a mix of metal and non-metal), but
 in the overall process of creating materials, distinguishing between 
metal and non-metal is a good approach and metalloids are an exception. 
To set up guidelines for materials, we must first understand what we are
 trying to create. With PBR, we can look at the properties of metals 
(conductors) and non-metals (insulators) to derive this set of 
guidelines as shown in Figure 12.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/38d004ae-33fc-4175-8abe-6bd1b4fdaeb8.png" style="cursor: zoom-in;">
	<figcaption>Figure 12: F0 ranges for both metal and non-metal materials</figcaption>
</figure>
<p></p>

<p>Refracted light is absorbed, and the color tint of metals comes from 
the reflected light, so in our maps, we don’t give metals a diffuse 
color.</p>

<h4>Metals</h4>

<p>Metals are good conductors of heat and electricity. The electric 
field in conducting metals is zero, and when an incoming light wave made
 of electric and magnetic fields hits the surface, the wave is partially
 reflected, and all the refracted light is absorbed. The reflectance 
value for polished metal is high at a range of about 70-100% reflective 
(Figure 13).</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/7f5bf828-8ac5-49fd-b040-0f205d1eeb3d.png" style="cursor: zoom-in;">
	<figcaption>Figure 13: The reflectance value for metal is around 70-100% specular</figcaption>
</figure>
<p></p>

<p>Some metals absorb light at different wavelengths. For example, gold 
absorbs blue light at the high-frequency end of the visible spectrum, so
 it appears yellow. However, since the refracted light is absorbed, the 
color tint of metals comes from the reflected light. In our maps, 
therefore, we don’t give metals a diffuse color. For example, in the 
specular/gloss workflow, raw metal is set to black in the diffuse map 
and the reflectance value is a tinted color value in the specular map. 
With metals, the reflectance value will be RGB and can be tinted. Since 
we are working within a physically-based model, we need to use 
real-world measured values for the metal reflectance in our maps.</p>

<p>Another important aspect of metals in terms of texturing is their 
tendency to corrode. This means that weathering elements can play a 
large role in the reflective state of metal. If the metal rusts, this 
changes the reflective state of the metal. The corroded areas are then 
treated as a dielectric material denoted by a black value in the 
metallic map as shown in Figure 14. As we will discuss in Part 2, the 
shader in the metallic/roughness workflow hardcodes the F0 value for 
dielectrics to be 4% reflective. Figure 14 shows the rusted areas in the
 base color map as diffuse reflected color with a hardcoded F0 value of 
4%.</p>

<p>Also, painted metal is treated as a dielectric rather than a metal. 
The paint acts as a layer on top of the raw metal. Only the raw metal 
exposed from chipped paint is treated as metal. The same goes for dirt 
on metal or any matter that obscures the raw metal.</p>

<p>As noted at the beginning of this chapter, it is helpful to ask if a 
material is a metal or not when creating PBR materials. To be even more 
precise, the question should also include information about the state of
 the metal: whether it is painted, rusted or covered in another matter 
like dirt or grease. The material will be treated as dielectric if it is
 not raw metal. Depending on weathering, there could be some blending 
between metal and non-metal as weathering elements play a role in the 
reflective state of a metal.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/e1bb9e2d-9e50-4e79-8d30-539861da05e6.png" style="cursor: zoom-in;">
	<figcaption>Figure 14: Corrosive areas are treated as a dielectric with an F0 value of 4% reflective</figcaption>
</figure>
<p></p>

<h4>Non-Metals</h4>

<p>Non-metals (insulators/dielectrics) are poor conductors of 
electricity. The refracted light is scattered and/or absorbed (often 
re-emerging from the surface), so they reflect a much smaller amount of 
light than metals and will have an albedo color.</p>

<p>We stated earlier that the value for common dielectrics is around 
2-5% based on the F0 as computed by the index of refraction. These 
values are contained within the linear range of 0.017-0.067 (40-75 sRGB)
 as shown in Figure 14. Apart from some non-metal materials such as 
gemstones, most dielectrics will not have an F0 value greater than 4%.</p>

<p>As with metals, we need to use real-world measured values, but it can
 be difficult to find an index of refraction (IOR) for other materials 
that are not transparent. However, the value between most common 
dielectric materials does not change drastically, so we can use a few 
guidelines for reflectance values. We will cover them later in this 
guide.</p>

<p>The value for common dielectrics is around 2-5% based on the F0 as 
computed by the IOR. You can see this range illustrated in Figure 15.</p>

<p>
</p><figure class="medium">
	<img src="The%20PBR%20Guide%20-%20Part%201-Dateien/838b33e0-3736-4b75-a043-926682cc413f.png" style="cursor: zoom-in;">
	<figcaption>Figure 15: Conversions from sRGB to linear were done using 
the gamma 2.2 approximation – see the section on linear space rendering 
for more details</figcaption>
</figure>
<p></p>

<h3>Linear Space Rendering</h3>

<p>Linear space rendering is a highly complex subject. For this guide, 
we will take a simplistic approach in stating that linear space 
rendering provides the correct math for lighting calculations. It 
creates an environment that allows light interactions to be represented 
in a credible real-world manner. For a discussion on linear space 
rendering, we must introduce the concept of gamma correction. When 
encoding images for display and storage purposes, gamma correction is 
the optimization process of reducing bandwidth and bit allocation. This 
process leverages the human eye’s perception of brightness, which 
approximately follows the cube root of luminance.</p>

<p>The Human Visual System (HVS) is more sensitive to relative 
differences in darker tones rather than brighter tones. Because of this,
 not using gamma correction is wasteful as too many bits will be 
allocated to tonal regions where the HVS cannot distinguish between 
tones.</p>

<p>In a typical digital image creation process, the image is encoded 
using an encoding gamma function, such as sRGB OETF or gamma 1 / 2.2[1],
 for presentation on a display device. The display device circuitry then
 decodes the image using its own decoding gamma function, the EOTF[2]; a
 computer monitor will frequently have a gamma setting of 2.2.</p>

<p>A linear color space intrinsically has no gamma correction. This is 
equivalent to an effective gamma of 1.0, which yields correct linear 
computations. However, in order to present the rendered image correctly 
to the viewer, it needs to be encoded into gamma space[3].</p>

<p>Computations of color values and operations on colors are performed 
in linear space. The process decodes gamma-encoded values into linear 
values from our color maps, and from colors chosen while viewing on a 
monitor via a color picker. In a color-managed workflow, this process 
typically involves tagging a texture map to be interpreted either as 
linear or as encoded with sRGB OETF or gamma 1 / 2.2. The computations 
are then carried out in linear space and the final rendered result is 
gamma-encoded with sRGB OETF or gamma 1 / 2.2</p>

<p>A simplistic way of considering which maps need to be decoded is that
 if the map exported from Substance Painter or Substance Designer 
represents color that you see (diffuse reflected color) - such as the 
color tint of a metal or the green color of grass - then it should be 
flagged as gamma-encoded for the shader to interpret the map correctly. 
The maps to be flagged as gamma-encoded in a PBR workflow are base 
color, diffuse, specular and emissive. If the map represents data, such 
as how rough the surface is (the roughness map), or if the material is 
metal (the metallic map), then it should be flagged as linear. The maps 
to be flagged as linear in a PBR workflow are roughness, ambient 
occlusion, normal, metallic, and height.</p>

<p>Within Substance Designer and Substance Painter, the conversion 
between linear and gamma space on inputs to the shader is handled 
automatically. So is gamma correction on the computed result in the 
rendered viewport. As artists, we don’t usually need to worry about the 
linear computation and conversions within the Substance software, as the
 software will handle this by default.</p>

<p>When using Substance materials via the Substance Integration plugin, 
outputs are flagged for linear/gamma space automatically via the 
integration and the host application’s color management. However, it’s 
important to understand the process: when Substance maps are used as 
exported bitmaps rather than Substance materials, you may need to 
manually flag the textures as gamma-encoded or linear depending on the 
renderer you are using. Usually .png, .jpg, .tga or .tif files are 
gamma-encoded while sRGB OETF and .exr files are linear.</p>

<p>The sRGB decoding function (EOTF) converting from gamma space to 
linear space is used in Substance Painter and Substance Designer*, and 
is defined by the IEC 61966-2-1:1999 Standard as follows:</p>

<p><img src="The%20PBR%20Guide%20-%20Part%201-Dateien/5f9dd8ec-db04-4c2e-92f8-56ef7ea4622c.png" title="" alt="" class="medium" style="cursor: zoom-in;"></p>

<p>*At the time of this writing, the linear to rgb and rgb to linear 
nodes in Substance Designer do not use this formula for optimization 
reasons. This may change in a future release.</p>

<p>For the sake of simplicity, for all the conversions in this guide we 
have used the following simplified (but approximate) conversion 
functions instead:</p>

<p><img src="The%20PBR%20Guide%20-%20Part%201-Dateien/ebef69cf-a569-45fc-93f9-bb963c399d08.png" title="" alt="" class="medium" style="cursor: zoom-in;"></p>

<h3>Key Characteristics of PBR</h3>

<p>Now that we have explored the basic theory behind the physics, we can derive some key characteristics of PBR:</p>

<h5>1. Energy conservation. A reflected ray is never brighter than the 
value it had when it first struck the surface. Energy conservation is 
handled by the shader.</h5>

<h5>2. Fresnel. The BRDF is handled by the shader. The F0 reflectance 
value has minimal change for most common dielectrics and falls within a 
range of 2-5%. The F0 for metals is a high value, ranging from 70-100%.</h5>

<h5>3. Specular intensity is controlled through the BRDF, roughness or glossiness map and the F0 reflectance value.</h5>

<h5>4. Lighting calculations are computed in linear space. All maps that
 have gamma-encoded values such as base color or diffuse are usually 
converted by the shader to linear, but you may have to ensure that the 
conversion is properly handled by checking the appropriate option when 
importing the image in your game engine or renderer. Maps that describe 
surface attributes such as roughness, glossiness, metallic and height 
should be set to be interpreted as linear.</h5>

<hr>

<p>*Special Thanks to <strong><a href="http://www.thomasmansencal.com/resume/" target="_blank" rel="nofollow noopener">Thomas Mansencal</a></strong> for reviewing and providing feedback for the Linear Space Rendering section.</p>

<p>[1.] The technical name for a gamma encoding function is Opto-Electronic Transfer Function (OETF)</p>

<p>[2.] The technical name for a gamma decoding function is Electro-Optical Transfer Function (EOTF)</p>

<p>[3.] It is critically important to disambiguate the sRGB OETF from 
the sRGB colorspace; the OETF is only one of the three components that 
make an RGB colorspace:</p>

<p>a. The primaries chromaticity coordinates define the gamut (the 
triangle of colours) that can be encoded by a given RGB color space.</p>

<p>b. The white point defines the white color for a given RGB color space.</p>

<p>c. The transfer functions perform the mapping between the linear 
light components (tristimulus values) and a non-linear RGB video signal 
(most of the time for coding optimization and bandwidth performance).</p>
</div></div></div></div></main><footer><a href="https://www.substance3d.com/" target="_blank" rel="noopener noreferrer"><svg version="1.1" viewBox="0 0 344.9 124.1" xmlns="http://www.w3.org/2000/svg"><g><g><polygon points="0 28.8 50 0 100 28.8 100 54.8 76.8 47.3 76.8 42.1 50 26.6 30.2 38 100 60.2 100 86.3 50 115 0 86.3 0 60.2 23.1 67.5 23.1 73 50 88.3 70.1 76.8 0 54.8"></polygon><g><path d="m115.3 71.3c-0.2-0.1-0.3-0.4-0.3-0.7v-5.4c0-0.2 0.2-0.4 0.4-0.2 2.5 1.6 5.5 2.3 8.2 2.3 3.4 0 4.8-1.2 4.8-2.8 0-1.4-1-2.5-4.1-3.8l-2.3-0.9c-5.5-2.3-7.1-5.1-7.1-8.7 0-4.9 3.7-8.8 10.9-8.8 2.8 0 5.4 0.4 7 1.2 0.2 0.1 0.3 0.3 0.3 0.6v5.1c0 0.2-0.1 0.4-0.4 0.2-1.8-1-4.3-1.5-6.9-1.5-3.5 0-4.7 1.2-4.7 2.7 0 1.4 0.9 2.3 4.3 3.7l1.7 0.7c6 2.5 7.7 5.3 7.7 9 0 5.5-4.4 8.9-11.4 8.9-3.3 0.1-6.1-0.6-8.1-1.6z"></path><path d="m144.8 60.8c0 3.9 1.8 6.6 5.9 6.6 3.4 0 5.6-1.8 5.6-6.7v-17.3c0-0.3 0.1-0.4 0.4-0.4h5.5c0.3 0 0.4 0.1 0.4 0.4v17.6c0 8.5-5.4 11.9-12.1 11.9-7.3 0-12-3.8-12-11.7v-17.9c0-0.3 0-0.4 0.4-0.4h5.5c0.3 0 0.4 0.1 0.4 0.4v17.5z"></path><path d="m168.8 43.5c0-0.3 0-0.4 0.3-0.5 1.6 0 6-0.1 9.2-0.1 9.6 0 11.2 4.9 11.2 7.9 0 3.1-1.6 4.9-2.8 5.7 1.7 0.9 4.2 2.8 4.2 6.9 0 5.5-4.8 9.2-12.5 9.2-4.4 0-7.6 0-9.3-0.1-0.2 0-0.3-0.2-0.3-0.4v-28.6zm6 11h3.1c1.5 0 3.3 0.1 4 0.2 0.8-0.7 1.4-1.6 1.4-3.1 0-2.3-1.7-3.5-5.1-3.5-1.4 0-2.3 0-3.3 0.1v6.3h-0.1zm0 12.8c0.9 0 1.9 0.1 3.3 0.1 3.9 0 6.2-1.2 6.2-3.8 0-1.5-0.6-2.8-2.8-3.4-0.7-0.2-1.7-0.3-2.8-0.3h-3.9v7.4z"></path><path d="m194.8 71.3c-0.2-0.1-0.3-0.4-0.3-0.7v-5.4c0-0.2 0.2-0.4 0.4-0.2 2.5 1.6 5.5 2.3 8.2 2.3 3.4 0 4.8-1.2 4.8-2.8 0-1.4-1-2.5-4.1-3.8l-2.3-0.9c-5.5-2.3-7.1-5.1-7.1-8.7 0-4.9 3.7-8.8 10.9-8.8 2.8 0 5.4 0.4 7 1.2 0.2 0.1 0.3 0.3 0.3 0.6v5.1c0 0.2-0.1 0.4-0.4 0.2-1.8-1-4.3-1.5-6.9-1.5-3.5 0-4.7 1.2-4.7 2.7 0 1.4 0.9 2.3 4.3 3.7l1.7 0.7c6 2.5 7.7 5.3 7.7 9 0 5.5-4.4 8.9-11.4 8.9-3.4 0.1-6.1-0.6-8.1-1.6z"></path><path d="m224.8 48.6h-8.9c-0.3 0-0.3-0.1-0.3-0.4l0.6-4.8c0-0.3 0.1-0.4 0.5-0.4h22.7c0.3 0 0.5 0.1 0.5 0.4l0.5 4.8c0 0.3-0.1 0.5-0.4 0.5h-8.8v23.5c0 0.3-0.2 0.5-0.4 0.5h-5.4c-0.3 0-0.5-0.1-0.5-0.4l-0.1-23.7z"></path><path d="m246 65.5l-2.2 6.7c-0.1 0.2-0.2 0.4-0.5 0.4h-5.2c-0.3 0-0.4-0.2-0.4-0.5l9-26c0.2-0.5 0.4-1 0.5-2.8 0-0.2 0.1-0.3 0.3-0.3h7.2c0.2 0 0.3 0 0.4 0.3l10.2 28.9c0.1 0.2 0 0.4-0.2 0.4h-5.9c-0.3 0-0.4-0.1-0.5-0.3l-2.3-6.7-10.4-0.1zm8.7-5.7c-0.9-3-2.7-8.4-3.6-11.6-0.7 3-2.3 8-3.5 11.6h7.1z"></path><path d="m269.1 72.5c-0.3 0-0.4 0-0.4-0.4v-28.8c0-0.2 0.1-0.4 0.3-0.4h7.3c0.4 0 0.4 0.1 0.6 0.4 3 5.6 9.1 17.4 10.6 20.7 0-1.3-0.1-2.7-0.1-7.1v-13.6c0-0.3 0.1-0.4 0.4-0.4h5.1c0.3 0 0.4 0.1 0.4 0.5v28.6c0 0.4-0.1 0.5-0.5 0.5h-6.5c-0.4 0-0.5-0.1-0.6-0.4-2.5-5-9.3-17.6-11.2-22.5 0.2 2.6 0.2 4.4 0.2 8.7v13.8c0 0.3-0.1 0.4-0.4 0.4h-5.2z"></path><path d="m320.3 71.5c0 0.3-0.1 0.5-0.4 0.6-1.5 0.5-3.7 0.8-6.3 0.8-8.8 0-15.6-5.2-15.6-15.1 0-9.2 6.3-15.4 16.3-15.4 2.8 0 4.7 0.2 5.9 0.8 0.2 0.1 0.3 0.3 0.3 0.5v4.9c0 0.4-0.2 0.4-0.4 0.3-1.5-0.7-3.6-1-5.9-1-6 0-9.8 3.7-9.8 9.6 0 7 5.1 9.7 9.9 9.7 2.2 0 3.9-0.2 5.5-0.7 0.2-0.1 0.4 0 0.4 0.2v4.8h0.1z"></path><path d="m344.2 72.1c0 0.4-0.1 0.4-0.5 0.4h-18.4c-0.3 0-0.4-0.1-0.4-0.4v-28.8c0-0.3 0.1-0.4 0.4-0.4h17.8c0.4 0 0.4 0 0.5 0.4l0.5 4.9c0 0.2 0 0.4-0.3 0.4h-12.6v6h11.5c0.2 0 0.4 0.1 0.4 0.4v5c0 0.3-0.2 0.3-0.4 0.3h-11.5v6.6h13.3c0.4 0 0.4 0.1 0.4 0.4l-0.7 4.8z"></path></g></g><g><path d="m120.3 86.2c0.2 0 0.2 0 0.2 0.2v9.8c1.4-0.6 2.9-0.9 4.6-0.9 5.4 0 9 3.9 9 9.3 0 7.1-5.4 10.8-10.9 10.8-2 0-3.6-0.2-5.2-0.8-0.2 0-0.2-0.2-0.2-0.3v-27.9c0-0.2 0-0.2 0.2-0.2h2.3zm4.5 11.5c-1.8 0-3.1 0.3-4.2 0.8v14.2c0.8 0.2 1.7 0.4 3 0.4 4.1 0 7.9-2.8 7.9-8.2 0-4.3-2.7-7.2-6.7-7.2z"></path><path d="m138 95.7c0.1 0 0.2 0.1 0.2 0.2 3.6 9.4 5.4 14 5.9 15.7 1.3-3.5 3.1-8.3 5.8-15.7 0.1-0.1 0.2-0.2 0.3-0.2h2.3c0.2 0 0.2 0.1 0.2 0.3-3 8.6-7 18.6-11.1 27.7-0.1 0.1-0.2 0.2-0.4 0.2l-2.4 0.2c-0.2 0-0.2-0.1-0.1-0.3 1.2-2.5 2.7-5.9 4.1-9.1 0-0.2 0.1-0.3 0-0.5-0.9-2.3-5-12.1-7.5-18.3 0-0.2 0-0.2 0.2-0.2h2.5z"></path><path d="m168.1 106.1l-3.1 8.8c-0.1 0.2-0.1 0.2-0.3 0.2h-2.2c-0.2 0-0.2-0.1-0.2-0.3l8.9-24.7c0.1-0.3 0.2-0.5 0.2-1.4 0-0.1 0.1-0.2 0.2-0.2h3.2c0.2 0 0.2 0 0.2 0.2l9.5 26.1c0 0.2 0 0.3-0.2 0.3h-2.4c-0.1 0-0.2 0-0.3-0.2l-3.2-8.8h-10.3zm9.7-2.5c-0.9-2.6-3.7-10.3-4.4-12.9-0.7 2.6-2.8 8.2-4.4 12.9h8.8z"></path><path d="m185.6 105.5c0-5.9 4.4-10.2 10.7-10.2 1.3 0 2 0.1 2.9 0.3v-9.2c0-0.2 0.1-0.2 0.2-0.2h2.3c0.2 0 0.2 0.1 0.2 0.2v25.7c0 0.4 0 1 0.1 1.6 0 0.2 0 0.2-0.2 0.3-2.1 1-4.3 1.4-6.4 1.4-5.6 0.1-9.8-3.3-9.8-9.9zm13.6-7.4c-0.7-0.3-1.8-0.4-3-0.4-5 0-7.9 3.4-7.9 7.7 0 5.6 3.6 7.7 7.3 7.7 1.1 0 2.6-0.2 3.6-0.6v-14.4z"></path><path d="m223.2 105.3c0 6-3.6 10.1-8.9 10.1-6.3 0-9-5.2-9-10.1 0-5.7 3.6-10.1 9-10.1 5.5 0.1 8.9 4.3 8.9 10.1zm-15.2 0c0 4.2 2.3 7.8 6.4 7.8 3 0 6.1-2.3 6.1-7.7 0-3.9-1.8-7.7-6.3-7.7-3.7 0-6.2 3.1-6.2 7.6z"></path><path d="m229.1 86.2c0.2 0 0.2 0 0.2 0.2v9.8c1.4-0.6 2.9-0.9 4.6-0.9 5.4 0 9 3.9 9 9.3 0 7.1-5.4 10.8-10.9 10.8-2 0-3.6-0.2-5.2-0.8-0.2 0-0.2-0.2-0.2-0.3v-27.9c0-0.2 0-0.2 0.2-0.2h2.3zm4.4 11.5c-1.8 0-3.1 0.3-4.2 0.8v14.2c0.8 0.2 1.7 0.4 3 0.4 4.1 0 7.9-2.8 7.9-8.2 0-4.3-2.5-7.2-6.7-7.2z"></path><path d="m248.7 105.5c-0.1 4.2 2.2 7.5 7 7.5 1.7 0 3.4-0.3 5-1.1 0.1-0.1 0.2 0 0.2 0.2v1.8c0 0.2-0.1 0.3-0.2 0.3-1.2 0.7-3 1.2-5.5 1.2-6.8 0-9.2-5-9.2-9.9 0-5.6 3.2-10.2 8.6-10.2 5.6 0 7.6 4.6 7.6 7.9 0 0.9 0 1.6-0.1 1.9 0 0.2-0.1 0.2-0.3 0.3-0.6 0.1-2.4 0.1-4.1 0.1h-9zm8.1-2.2c2.2 0 2.6 0 2.8-0.1v-0.5c0-1.6-1-5.2-5.1-5.2-3.6 0-5.4 2.8-5.8 5.8h8.1z"></path></g></g></svg></a><div class="copyright">Copyright © 2020 - All Rights Reserved</div><div class="legal"><a href="https://www.substance3d.com/legal/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a> - <a href="https://www.substance3d.com/legal/terms-of-use" target="_blank" rel="noopener noreferrer">Terms of Use</a></div></footer></div><script src="The%20PBR%20Guide%20-%20Part%201-Dateien/cda35d28.js"></script><link rel="stylesheet" href="The%20PBR%20Guide%20-%20Part%201-Dateien/woff2.css" media="all"><script>!function(l){function e(e){for(var r,t,n=e[0],o=e[1],u=e[2],f=0,i=[];f<n.length;f++)t=n[f],p[t]&&i.push(p[t][0]),p[t]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(l[r]=o[r]);for(s&&s(e);i.length;)i.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var e,r=0;r<c.length;r++){for(var t=c[r],n=!0,o=1;o<t.length;o++){var u=t[o];0!==p[u]&&(n=!1)}n&&(c.splice(r--,1),e=f(f.s=t[0]))}return e}var t={},p={1:0},c=[];function f(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return l[e].call(r.exports,r,r.exports,f),r.l=!0,r.exports}f.m=l,f.c=t,f.d=function(e,r,t){f.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(r,e){if(1&e&&(r=f(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)f.d(t,n,function(e){return r[e]}.bind(null,n));return t},f.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(r,"a",r),r},f.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},f.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],n=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var s=n;a()}([])</script><script src="The%20PBR%20Guide%20-%20Part%201-Dateien/2.js"></script><script src="The%20PBR%20Guide%20-%20Part%201-Dateien/main.js"></script><div class="ReactModalPortal"></div></body></html>